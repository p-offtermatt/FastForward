# SCRIPTS

## generate_graphs.sh

This script generates graphs from files with csv format generated by mist.

### Usage

	$ ./generate_graphs.sh [output] [csv_files]

Generates a folder with the name [output] which contains the [csv_files] without the extra information printed by mist and an index.html with the graphs related to [csv_files]

* The data files should have been generated by mist or have the same format
* Empty files will be ignored
* This script needs mustache to be installed

## run_benchmarks.py

This script allows you to run a set of tests storing the results and analyzing them. The script also show you a summary about the correctness of the results obtained

###Usage

	$ ./run_benchmarks.py --[run|all] [alg] [benchmarks directory] [output file] [number of subprocess] [timeout]

	$ ./run_benchmarks.py --[analyze] [output file]

	$ ./run_benchmarks.py --[graphs] [alg] [benchmarks directory] [output folder] [number of subprocess] [timeout]

### Options:

| option | description |
|--------|---------|
|help |  Shows this output |
|run |  Runs mist on the examples in [benchmarks directory] and writes the results to [output file] |
|analyze |  Compares the results stored in [output file] against expected outcomes |
|all |  Executes run + analyze |
|graphs |  Runs mist on the examples in [benchmarks directory], using the algorithm [alg] and generating a folder [output folder] which contains a file index.html with graphs of the memory usage of mist for the given examples. If no algorithm is specified all of them will be used. This option uses the script *generate_graphs.sh*|

The argument [alg] indicates which algorithm should be used. If algorithm '--' is specified all of them will be used.

This script will use [number of subprocess] process and establish a timeout of [timeout] sec for each execution of mist (-1 to set off timeout)

### Results

#### run
By using this option we will obtain something like:

```
test: ../example/bingham_h25.spec
EEC concludes safe
backward algorithm concludes safe
TSI concludes safe
Timeout
Timeout
-------------------------------------------------

test: ../example/mesh3x2.spec
Timeout
backward algorithm concludes safe
Timeout
ic4pn concludes safe with the abstraction
-------------------------------------------------
```
which give us the result given but the different algorithms when applying them over the current example.

#### run + analyze = all
The output will be similar to:

![alt tag](https://github.com/pevalme/mist/blob/improving_graphs_scripts/img/analyze.png)

#### graphs
The graphs showned in the file [Output]/index.html are similar to
![alt tag](https://github.com/pevalme/mist/blob/improving_graphs_scripts/img/graph.png)

In the first graph there are shown the number of elements of each in the frontier and also in the reached elements space. The
red line shows the sum of the elements obtained in the computed frontiers. In the inverted graph its shown the execution time of each iteration.

Moving the mouse over the obtained result the precise value of the bar will be shown.